package com.example.testescolavision;

import androidx.annotation.DrawableRes;
import androidx.annotation.NonNull;
import androidx.appcompat.app.AppCompatActivity;
import androidx.appcompat.content.res.AppCompatResources;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;

import android.annotation.SuppressLint;
import android.content.Intent;
import android.graphics.Color;
import android.graphics.drawable.Drawable;
import android.os.Bundle;
import android.util.Log;
import android.util.Xml;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.View;
import android.widget.Button;
import android.widget.LinearLayout;
import android.widget.Toast;

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

public class ScrollView extends AppCompatActivity {
    private Button mboton1;
    private Button mboton2;
    private Button mboton3;
    private Button mboton4;
    private Button mboton5;
    private Button mboton6;
    private Button mboton7;
    private Button mboton8;
    private Button mboton9;
    private Button mboton10;
    private Button mboton11;
    private Button mboton12;
    private Button mboton13;
    private Button mboton14;
    private Button mboton15;
    private Button mboton16;
    private Button mboton17;
    private Button mboton18;
    private Button mboton19;
    private Button mboton20;
    private Button mboton21;
    private Button mboton22;
    private Button mboton23;
    private Button mboton24;
    private Button mboton25;
    private Button mboton26;
    private Button mboton27;
    private Button mboton28;
    private Button mboton29;
    private Button mboton30;
    private Button mboton31;
    private Button mboton32;
    private Button mboton33;
    private Button mboton34;
    private Button mboton35;
    private Button mboton36;
    private Button mboton37;
    private Button mboton38;
    private Button mboton39;
    private Button mboton40;
    private Button mboton41;
    private Button mboton42;
    private Button mboton43;
    private Button mboton44;
    private Button mboton45;
    private Button mboton46;
    private Button mboton47;
    private Button mboton48;
    private Button mboton49;
    private Button mboton50;
    private Button mboton51;
    private Button mboton52;
    private Button mboton53;
    private Button mboton54;
    private Button mboton55;
    private Button mboton56;
    private Button mboton57;
    private Button mboton58;
    private Button mboton59;
    private Button mboton60;
    private Button mboton61;
    private Button mboton62;
    private Button mboton63;
    private Button mboton64;
    private Button mboton65;
    private Button mboton66;
    private Button mboton67;
    private Button mboton68;
    private Button mboton69;
    private Button mboton70;
    private Button mboton71;
    private Button mboton72;
    private Button mboton73;
    private Button mboton74;
    private Button mboton75;
    private Button mboton76;
    private Button mboton77;
    private Button mboton78;
    private Button mboton79;
    private Button mboton80;
    private Button mboton81;
    private Button mboton82;
    private Button mboton83;
    private Button mboton84;
    private Button mboton85;
    private Button mboton86;
    private Button mboton87;
    private Button mboton88;
    private Button mboton89;
    private Button mboton90;
    private Button mboton91;
    private Button mboton92;
    private Button mboton93;
    private Button mboton94;
    private Button mboton95;
    private Button mboton96;
    private Button mboton97;
    private Button mboton98;
    private Button mboton99;
    private Button mboton100;
    private Button mboton101;
    private Button mboton102;
    private Button mboton103;
    private Button mboton104;
    private Button mboton105;
    private Button mboton106;
    private Button mboton107;
    private Button mboton108;
    private Button mboton109;
    private Button mboton110;
    private Button mboton111;
    private Button mboton112;
    private Button mboton113;
    private Button mboton114;
    private Button mboton115;
    private Button mboton116;
    private Button mboton117;
    private Button mboton118;
    private Button mboton119;
    private Button mboton120;
    private Button mboton121;
    private Button mboton122;
    private Button mboton123;
    private Button mboton124;
    private Button mboton125;
    private Button mboton126;
    private Button mboton127;
    private Button mboton128;
    private Button mboton129;
    private Button mboton130;
    private Button mboton131;
    private Button mboton132;
    private Button mboton133;
    private Button mboton134;
    private Button mboton135;
    private Button mboton136;
    private Button mboton137;
    private Button mboton138;
    private Button mboton139;
    private Button mboton140;
    private Button mboton141;
    private Button mboton142;
    private Button mboton143;
    private Button mboton144;
    private Button mboton145;
    private Button mboton146;
    private Button mboton147;
    private Button mboton148;
    private Button mboton149;
    private Button mboton150;
    private Button mboton151;
    private Button mboton152;
    private Button mboton153;
    private Button mboton154;
    private Button mboton155;
    private Button mboton156;
    private Button mboton157;
    private Button mboton158;
    private Button mboton159;
    private Button mboton160;
    private Button mboton161;
    private Button mboton162;
    private Button mboton163;
    private Button mboton164;
    private Button mboton165;
    private Button mboton166;
    private Button mboton167;
    private Button mboton168;
    private Button mboton169;
    private Button mboton170;
    private Button mboton171;
    private Button mboton172;
    private Button mboton173;
    private Button mboton174;
    private Button mboton175;
    private Button mboton176;
    private Button mboton177;
    private Button mboton178;
    private Button mboton179;
    private Button mboton180;
    private Button mboton181;
    private Button mboton182;
    private Button mboton183;
    private Button mboton184;
    private Button mboton185;
    private Button mboton186;
    private Button mboton187;
    private Button mboton188;
    private Button mboton189;
    private Button mboton190;
    private Button mboton191;
    private Button mboton192;
    private Button mboton193;
    private Button mboton194;
    private Button mboton195;
    private Button mboton196;
    private Button mboton197;
    private Button mboton198;
    private Button mboton199;
    private Button mboton200;
    private Button mboton201;
    private Button mboton202;
    private Button mboton203;
    private Button mboton204;
    private Button mboton205;
    private Button mboton206;
    private Button mboton207;
    private Button mboton208;
    private Button mboton209;
    private Button mboton210;
    private Button mboton211;
    private Button mboton212;
    private Button mboton213;
    private Button mboton214;
    private Button mboton215;
    private Button mboton216;
    private Button mboton217;
    private Button mboton218;
    private Button mboton219;
    private Button mboton220;
    private Button mboton221;
    private Button mboton222;
    private Button mboton223;
    private Button mboton224;
    private Button mboton225;
    private Button mboton226;
    private Button mboton227;
    private Button mboton228;
    private Button mboton229;
    private Button mboton230;
    private Button mboton231;
    private Button mboton232;
    private Button mboton233;
    private Button mboton234;
    private Button mboton235;
    private Button mboton236;
    private Button mboton237;
    private Button mboton238;
    private Button mboton239;
    private Button mboton240;
    private Button mboton241;
    private Button mboton242;
    private Button mboton243;
    private Button mboton244;
    private Button mboton245;
    private Button mboton246;
    private Button mboton247;
    private Button mboton248;
    private Button mboton249;
    private Button mboton250;
    private Button mboton251;
    private Button mboton252;
    private Button enviarTest;

    private Button[] buttons = {
            mboton1, mboton2, mboton3, mboton4, mboton5, mboton6, mboton7, mboton8, mboton9, mboton10,
            mboton11, mboton12, mboton13, mboton14, mboton15, mboton16, mboton17, mboton18, mboton19, mboton20,
            mboton21, mboton22, mboton23, mboton24, mboton25, mboton26, mboton27, mboton28, mboton29, mboton30,
            mboton31, mboton32, mboton33, mboton34, mboton35, mboton36, mboton37, mboton38, mboton39, mboton40,
            mboton41, mboton42, mboton43, mboton44, mboton45, mboton46, mboton47, mboton48, mboton49, mboton50,
            mboton51, mboton52, mboton53, mboton54, mboton55, mboton56, mboton57, mboton58, mboton59, mboton60,
            mboton61, mboton62, mboton63, mboton64, mboton65, mboton66, mboton67, mboton68, mboton69, mboton70,
            mboton71, mboton72, mboton73, mboton74, mboton75, mboton76, mboton77, mboton78, mboton79, mboton80,
            mboton81, mboton82, mboton83, mboton84, mboton85, mboton86, mboton87, mboton88, mboton89, mboton90,
            mboton91, mboton92, mboton93, mboton94, mboton95, mboton96, mboton97, mboton98, mboton99, mboton100,
            mboton101, mboton102, mboton103, mboton104, mboton105, mboton106, mboton107, mboton108, mboton109, mboton110,
            mboton111, mboton112, mboton113, mboton114, mboton115, mboton116, mboton117, mboton118, mboton119, mboton120,
            mboton121, mboton122, mboton123, mboton124, mboton125, mboton126, mboton127, mboton128, mboton129, mboton130,
            mboton131, mboton132, mboton133, mboton134, mboton135, mboton136, mboton137, mboton138, mboton139, mboton140,
            mboton141, mboton142, mboton143, mboton144, mboton145, mboton146, mboton147, mboton148, mboton149, mboton150,
            mboton151, mboton152, mboton153, mboton154, mboton155, mboton156, mboton157, mboton158, mboton159, mboton160,
            mboton161, mboton162, mboton163, mboton164, mboton165, mboton166, mboton167, mboton168, mboton169, mboton170,
            mboton171, mboton172, mboton173, mboton174, mboton175, mboton176, mboton177, mboton178, mboton179, mboton180,
            mboton181, mboton182, mboton183, mboton184, mboton185, mboton186, mboton187, mboton188, mboton189, mboton190,
            mboton191, mboton192, mboton193, mboton194, mboton195, mboton196, mboton197, mboton198, mboton199, mboton200,
            mboton201, mboton202, mboton203, mboton204, mboton205, mboton206, mboton207, mboton208, mboton209, mboton210,
            mboton211, mboton212, mboton213, mboton214, mboton215, mboton216, mboton217, mboton218, mboton219, mboton220,
            mboton221, mboton222, mboton223, mboton224, mboton225, mboton226, mboton227, mboton228, mboton229, mboton230,
            mboton231, mboton232, mboton233, mboton234, mboton235, mboton236, mboton237, mboton238, mboton239, mboton240,
            mboton241, mboton242, mboton243, mboton244, mboton245, mboton246, mboton247, mboton248, mboton249, mboton250,
            mboton251, mboton252
    };

    private Question[] mQuestionBank = new Question[] {
            new Question(R.string.question_text_1, 0),
            new Question(R.string.question_text_2, 0),
            new Question(R.string.question_text_3, 0),
            new Question(R.string.question_text_4, 0),
            new Question(R.string.question_text_5, 0),
            new Question(R.string.question_text_6, 0),
            new Question(R.string.question_text_7, 0),
            new Question(R.string.question_text_8, 0),
            new Question(R.string.question_text_9, 0),
            new Question(R.string.question_text_10, 0),
            new Question(R.string.question_text_11, 0),
            new Question(R.string.question_text_12, 0),
            new Question(R.string.question_text_13, 0),
            new Question(R.string.question_text_14, 0),
            new Question(R.string.question_text_15, 0),
            new Question(R.string.question_text_16, 0),
            new Question(R.string.question_text_17, 0),
            new Question(R.string.question_text_18, 0),
            new Question(R.string.question_text_19, 0),
            new Question(R.string.question_text_20, 0),
            new Question(R.string.question_text_21, 0),
            new Question(R.string.question_text_22, 0),
            new Question(R.string.question_text_23, 0),
            new Question(R.string.question_text_24, 0),
            new Question(R.string.question_text_25, 0),
            new Question(R.string.question_text_26, 0),
            new Question(R.string.question_text_27, 0),
            new Question(R.string.question_text_28, 0),
            new Question(R.string.question_text_29, 0),
            new Question(R.string.question_text_30, 0),
            new Question(R.string.question_text_31, 0),
            new Question(R.string.question_text_32, 0),
            new Question(R.string.question_text_33, 0),
            new Question(R.string.question_text_34, 0),
            new Question(R.string.question_text_35, 0),
            new Question(R.string.question_text_36, 0),
            new Question(R.string.question_text_37, 0),
            new Question(R.string.question_text_38, 0),
            new Question(R.string.question_text_39, 0),
            new Question(R.string.question_text_40, 0),
            new Question(R.string.question_text_41, 0),
            new Question(R.string.question_text_42, 0),
            new Question(R.string.question_text_43, 0),
            new Question(R.string.question_text_44, 0),
            new Question(R.string.question_text_45, 0),
            new Question(R.string.question_text_46, 0),
            new Question(R.string.question_text_47, 0),
            new Question(R.string.question_text_48, 0),
            new Question(R.string.question_text_49, 0),
            new Question(R.string.question_text_50, 0),
            new Question(R.string.question_text_51, 0),
            new Question(R.string.question_text_52, 0),
            new Question(R.string.question_text_53, 0),
            new Question(R.string.question_text_54, 0),
            new Question(R.string.question_text_55, 0),
            new Question(R.string.question_text_56, 0),
            new Question(R.string.question_text_57, 0),
            new Question(R.string.question_text_58, 0),
            new Question(R.string.question_text_59, 0),
            new Question(R.string.question_text_60, 0),
            new Question(R.string.question_text_61, 0),
            new Question(R.string.question_text_62, 0),
            new Question(R.string.question_text_63, 0)

    };
    int value;
    int area1;
    int area2;
    int area3;
    int area4;
    int area5;
    public Intent intent;
    private static final String TAG = "ScrollView";

    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.scrollview);
        Log.d(TAG, "onCreate(Bundle) called");


        // Obtener referencias a los botones

        for (int i = 0; i < buttons.length; i++) {
            @SuppressLint("DiscouragedApi") int buttonId = getResources().getIdentifier("button" + (i + 1), "id", getPackageName());
            buttons[i] = findViewById(buttonId);
        }

        // Configurar los listeners de clic para los botones
        for (int i = 0; i< 252; i+=4){
            setupButtonClickListener(buttons[i], buttons[i+1], buttons[i+2], buttons[i+3]);
        }

        enviarTest = (Button) findViewById(R.id.botonTerminarTest);
        enviarTest.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                irResultados(v);
            }
        });
        // Obtén las 5 variables y ordénalas de mayor a menor
        /*List<Integer> unsortedVariables = new ArrayList<>();
        unsortedVariables.add(10);
        unsortedVariables.add(5);
        unsortedVariables.add(8);
        unsortedVariables.add(3);
        unsortedVariables.add(12);

        List<Integer> sortedVariables = new ArrayList<>(unsortedVariables);
        Collections.sort(sortedVariables, Collections.reverseOrder());

        // Configura el RecyclerView
        @SuppressLint({"WrongViewCast", "MissingInflatedId", "LocalSuppress"}) RecyclerView recyclerView = findViewById(R.id.recyclerView);
        recyclerView.setLayoutManager(new LinearLayoutManager(this));
        CustomAdapter adapter = new CustomAdapter(sortedVariables);
        recyclerView.setAdapter(adapter);
         */
    }
    public void irResultados(View v){
        recogerYSumar(v);


        //iniciar actividad
        /*
        Bundle enviarDatos =new Bundle();
        enviarDatos.putInt("area1", area1);
        enviarDatos.putInt("area2", area2);
        enviarDatos.putInt("area3", area3);
        enviarDatos.putInt("area4", area4);
        enviarDatos.putInt("area5", area5);

         */

        intent = new Intent(this, Resultados.class);
        intent.putExtra("area1", String.valueOf(area1));
        intent.putExtra("area2", String.valueOf(area2));
        intent.putExtra("area3", String.valueOf(area3));
        intent.putExtra("area4", String.valueOf(area4));
        intent.putExtra("area5", String.valueOf(area5));

        startActivity(intent);
    }

    private void setupButtonClickListener(Button redButton, Button orangeButton, Button yellowButton, Button greenButton) {
        redButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                setButtonBackground(redButton, R.drawable.button_red_bg);
                setButtonBackground(orangeButton, R.drawable.button_orange_light_bg);
                setButtonBackground(yellowButton, R.drawable.button_yellow_light_bg);
                setButtonBackground(greenButton, R.drawable.button_verde_light_bg);
                sumar(v);
                value = 0;
            }
        });

        orangeButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                setButtonBackground(redButton, R.drawable.button_red_light_bg);
                setButtonBackground(orangeButton, R.drawable.button_orange_bg);
                setButtonBackground(yellowButton, R.drawable.button_yellow_light_bg);
                setButtonBackground(greenButton, R.drawable.button_verde_light_bg);
                sumar(v);
                value = 1;
            }
        });

        yellowButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                setButtonBackground(redButton, R.drawable.button_red_light_bg);
                setButtonBackground(orangeButton, R.drawable.button_orange_light_bg);
                setButtonBackground(yellowButton, R.drawable.button_yellow_bg);
                setButtonBackground(greenButton, R.drawable.button_verde_light_bg);
                sumar(v);
                value = 2;
            }
        });

        greenButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                setButtonBackground(redButton, R.drawable.button_red_light_bg);
                setButtonBackground(orangeButton, R.drawable.button_orange_light_bg);
                setButtonBackground(yellowButton, R.drawable.button_yellow_light_bg);
                setButtonBackground(greenButton, R.drawable.button_verde_bg);
                sumar(v);
                value = 3;
            }
        });
    }

    private void setButtonBackground(Button button, int drawableId) {
        button.setBackgroundResource(drawableId);
    }
    public boolean onCreateOptionsMenu(Menu menu){
        MenuInflater inflater = getMenuInflater();
        inflater.inflate(R.menu.fragment_main_list, menu);
        return true;
    }

    public boolean onOptionsItemSelected(MenuItem item)
    {
        if (item.getItemId() == R.id.item1){
            resetearActivity();
        }else{
            Intent intent = new Intent(ScrollView.this, Inicio.class);
            startActivity(intent);
        }
        return true;
    }
    public void resetearActivity()
    {
        Intent intent = new Intent(ScrollView.this, ScrollView.class);
        startActivity(intent);
    }

    public void sumar(View v) {
        //modulo4
            String id2 = v.getTag().toString();
            int idint = Integer.parseInt(id2);
            int coc2 = idint / 4;
            int rest = idint % 4;
            switch (coc2) {
                case 0:
                    area1 += rest;
                case 1:
                    area2 += rest;
                case 2:
                    area3 += rest;
                case 3:
                    area4 += rest;
                case 4:
                    area5 += rest;
                case 5:
                    area1 += rest;
                case 6:
                    area2 += rest;
                case 7:
                    area3 += rest;
                case 8:
                    area4 += rest;
                case 9:
                    area5 += rest;
                case 10:
                    area1 += rest;
                case 11:
                    area2 += rest;
                case 12:
                    area3 += rest;
                case 13:
                    area4 += rest;
                case 14:
                    area5 += rest;
                case 15:
                    area1 += rest;
                case 16:
                    area2 += rest;
                case 17:
                    area3 += rest;
                case 18:
                    area4 += rest;
                case 19:
                    area5 += rest;
                case 20:
                    area1 += rest;
                case 21:
                    area2 += rest;
                case 22:
                    area3 += rest;
                case 23:
                    area4 += rest;
                case 24:
                    area5 += rest;
                case 25:
                    area1 += rest;
                case 26:
                    area2 += rest;
                case 27:
                    area3 += rest;
                case 28:
                    area4 += rest;
                case 29:
                    area5 += rest;
            }


            Log.d(TAG, "sumado" + value + "al area de la pregunta " + coc2);
        }
    public void recogerYSumar (View v) {
        for (int i = 0; i<63;i++){
            if (mQuestionBank[i].getTextResId() == 0 || mQuestionBank[i].getTextResId() ==5
                    || mQuestionBank[i].getTextResId() == 10 || mQuestionBank[i].getTextResId() == 15
                    || mQuestionBank[i].getTextResId() == 20 || mQuestionBank[i].getTextResId() == 25
                    || mQuestionBank[i].getTextResId() == 30 || mQuestionBank[i].getTextResId() == 38
                    || mQuestionBank[i].getTextResId() == 43 || mQuestionBank[i].getTextResId() == 44
                    || mQuestionBank[i].getTextResId() == 50 || mQuestionBank[i].getTextResId() == 56
                    || mQuestionBank[i].getTextResId() == 60 || mQuestionBank[i].getTextResId() == 61
                    || mQuestionBank[i].getTextResId() == 62)
            {
                area1 += mQuestionBank[i].getAnswerValue();
                Log.d(TAG, "area1 sumado");
            }
            if (mQuestionBank[i].getTextResId() == 1 || mQuestionBank[i].getTextResId() == 6
                    || mQuestionBank[i].getTextResId() == 11 || mQuestionBank[i].getTextResId() == 16
                    || mQuestionBank[i].getTextResId() == 21 || mQuestionBank[i].getTextResId() == 26
                    || mQuestionBank[i].getTextResId() == 31 || mQuestionBank[i].getTextResId() == 39
                    || mQuestionBank[i].getTextResId() == 40 || mQuestionBank[i].getTextResId() == 41
                    || mQuestionBank[i].getTextResId() == 45 || mQuestionBank[i].getTextResId() == 46
                    || mQuestionBank[i].getTextResId() == 51 || mQuestionBank[i].getTextResId() == 57
                    || mQuestionBank[i].getTextResId() == 32)
            {
                area2 += mQuestionBank[i].getAnswerValue();
                Log.d(TAG, "area2 sumado");
            }
            if (mQuestionBank[i].getTextResId() == 2 || mQuestionBank[i].getTextResId() == 7
                    || mQuestionBank[i].getTextResId() == 12 || mQuestionBank[i].getTextResId() == 17
                    || mQuestionBank[i].getTextResId() == 22 || mQuestionBank[i].getTextResId() == 27
                    || mQuestionBank[i].getTextResId() == 32 || mQuestionBank[i].getTextResId() == 33
                    || mQuestionBank[i].getTextResId() == 40 || mQuestionBank[i].getTextResId() == 41
                    || mQuestionBank[i].getTextResId() == 59 || mQuestionBank[i].getTextResId() == 47
                    || mQuestionBank[i].getTextResId() == 52 || mQuestionBank[i].getTextResId() == 53
                    || mQuestionBank[i].getTextResId() == 58)
            {
                area3 += mQuestionBank[i].getAnswerValue();
                Log.d(TAG, "area3 sumado");
            }
            if (mQuestionBank[i].getTextResId() == 3 || mQuestionBank[i].getTextResId() == 8
                    || mQuestionBank[i].getTextResId() == 13 || mQuestionBank[i].getTextResId() == 18
                    || mQuestionBank[i].getTextResId() == 23 || mQuestionBank[i].getTextResId() == 28
                    || mQuestionBank[i].getTextResId() == 34 || mQuestionBank[i].getTextResId() == 35
                    || mQuestionBank[i].getTextResId() == 36 || mQuestionBank[i].getTextResId() == 42
                    || mQuestionBank[i].getTextResId() == 43 || mQuestionBank[i].getTextResId() == 49
                    || mQuestionBank[i].getTextResId() == 53 || mQuestionBank[i].getTextResId() == 54
                    || mQuestionBank[i].getTextResId() == 55)
            {
                area4 += mQuestionBank[i].getAnswerValue();
                Log.d(TAG, "area4 sumado");
            }
            if (mQuestionBank[i].getTextResId() == 4 || mQuestionBank[i].getTextResId() == 9
                    || mQuestionBank[i].getTextResId() == 14 || mQuestionBank[i].getTextResId() == 19
                    || mQuestionBank[i].getTextResId() == 24 || mQuestionBank[i].getTextResId() == 29
                    || mQuestionBank[i].getTextResId() == 34 || mQuestionBank[i].getTextResId() == 37
                    || mQuestionBank[i].getTextResId() == 42 || mQuestionBank[i].getTextResId() == 43
                    || mQuestionBank[i].getTextResId() == 48 || mQuestionBank[i].getTextResId() == 49
                    || mQuestionBank[i].getTextResId() == 54 || mQuestionBank[i].getTextResId() == 55
                    || mQuestionBank[i].getTextResId() == 35)
            {
                area5 += mQuestionBank[i].getAnswerValue();
                Log.d(TAG, "area5 sumado");
            }

        }
    }
}